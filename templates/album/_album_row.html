{# Server-rendered album row used in search results #}
<li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
    data-id="{{ album.pk }}">

  <div class="d-flex flex-column">
    <div>
      {% if detail_url %}
        <a href="{{ detail_url }}" class="fw-bold text-decoration-none album-name">
          {{ album.name }}
        </a>
      {% else %}
        <span class="fw-bold album-name">{{ album.name }}</span>
      {% endif %}

      {% if album.is_public %}
        <span class="badge bg-success ms-2">Public</span>
      {% else %}
        <span class="badge bg-secondary ms-2">Private</span>
      {% endif %}
    </div>
  </div>

  {% if request.user.is_authenticated and request.user.id == album.owner_id %}
    <div class="btn-group btn-group-sm mt-2 mt-md-0" role="group">
      {% if detail_url %}
        <a href="{{ detail_url }}" class="btn btn-outline-primary">👁 View</a>
      {% endif %}

      {% if rename_url %}
        <button type="button"
                class="btn btn-outline-secondary rename-album-btn"
                data-bs-toggle="modal"
                data-bs-target="#renameAlbumModal"
                data-url="{{ rename_url }}"
                data-current-name="{{ album.name }}">
          ✏ Edit
        </button>
      {% endif %}

      {% if toggle_url %}
        <a href="{{ toggle_url }}" class="btn btn-outline-warning">
          {% if album.is_public %}🔒 Make Private{% else %}🌍 Make Public{% endif %}
        </a>
      {% endif %}

      {% if delete_url and not album.is_default %}
        <button type="button"
                class="btn btn-outline-danger"
                data-bs-toggle="modal"
                data-bs-target="#deleteAlbumModal"
                data-url="{{ delete_url }}"
                data-album-name="{{ album.name }}">
          🗑 Delete
        </button>
      {% endif %}
    </div>
  {% else %}
    <div class="btn-group btn-group-sm mt-2 mt-md-0" role="group">
      {% if detail_url %}
        <a href="{{ detail_url }}" class="btn btn-outline-primary">👁 View</a>
      {% endif %}
    </div>
  {% endif %}
</li>
